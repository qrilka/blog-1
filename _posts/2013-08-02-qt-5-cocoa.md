---
layout: post
title: 'Qt 5 и Cocoa: самое первое впечатление'
created: 1375430212
categories:
- qt
- cocoa
- strictcode
- style revisor
---
Итак, более двух месяцев прошло с момента моего перехода с Qt 5 на Cocoa. За это время у меня сложилось первое впечатление относительно этих двух инструментариев, если сравнивать один со вторым... Я специально удержусь от сравнения языков C++11 и Objective-C, потому что это отдельная (и весьма большая) тема. Сфокусируемся именно на Qt и Cocoa.

Первое отчётливое впечатление можно сформулировать так:

**Если что-то сделал в Qt (по официальной документации), то оно может работать не в точности так, как описано в этой самой документации. Если же что-то сделал в Cocoa (по официальной документации), то оно будет работать точно так, как и было описано.**

Я люблю точность. Поэтому когда некоторые вещи, сделанные в Qt 5, не работали в Mac OS X так, как было обещано в документации, меня это сильно расстраивало. Приведу самый простой пример.

В соответствии с OS X HIG окно About должно из трёх кнопок управления окном иметь активной только одну, а именно кнопку закрытия. То есть выглядеть это должно так:

<img src="https://developer.apple.com/library/mac/documentation/UserExperience/Conceptual/AppleHIGuidelines/art/Calendar_about_window.png" alt="About window example" />

Так вот сделать такое в Qt 5.0.1 у меня так и не получилось. Вернее, получилось, но только с помощью нативной вставки Objective-C кода, а это уже не в счёт. Примечательно, что в соответствии с документацией к Qt сделать такое не должно составить труда, при помощи флагов типа **Qt::WindowMinimizeButtonHint** и **Qt::WindowCloseButtonHint**. Но это только в теории. На практике у меня так и не вышло. Важно отметить, что в Linux это работает, а вот в Mac, по непонятной причине, нет.

Да, я понимаю, что учесть все тонкости ОС тяжело. Но, как говорится, "взялся за гуж - не говори, что не дюж". Qt 5.1 позиционирует себя как "Modern Multi-Platform way of writing applications." Значит, они взяли на себя обязательства, что их код корректно "распределяется" по всем официально поддерживаемым ими платформам. Однако, как выяснилось, в отношении Mac это не так.

Вы скажете мне, мол, ну это же такие мелочи, ведь в целом-то всё работает! Да, это мелочи. Но из таких вот мелочей в конечном счёте и состоит целое.
