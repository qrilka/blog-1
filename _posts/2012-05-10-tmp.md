---
layout: post
title: tmp в стеке...
category: articles
tags: [C++]
comments: true
share: true
---
Очень, очень много раз я видел это в чужом коде. Признаюсь - допускал это и в своём...

Прочтём:
{% highlight cpp %}
template <typename Cont>
void action( Cont const& container ) {
    Cont tmp( container );
    ...
}
{% endhighlight %}Не так важно, почему нам понадобилась внутренняя копия полученного извне контейнера, суть не в этом. Суть в имени **tmp**.

Что это за имя такое? Temporary? Но, простите, любой нестатический и не-кучевой (не созданный в куче) объект в стеке является временным. Назвать временный объект tmp - это всё равно что функцию назвать function или переменную типа int назвать integer. Всё это примеры имён, не несущих ну абсолютно никакой информации о своём предназначении. Избегайте их.

В тех же случаях, когда временная копия всё-таки нужна, называйте её так, чтобы имя отражало её предназначение. Ну, например:
{% highlight cpp %}
std::string to_lower( std::string const& pure ) {
    std::string for_converting( pure );
    // Здесь мы каким-то образом конвертируем 
    // символы строки в нижний регистр.
    return for_converting;
}
{% endhighlight %}Здесь имя временной строки for_converting сразу сообщает нам о предназначении оной.
