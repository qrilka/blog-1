---
layout: post
title: В стотысячный раз - о фигурной скобке
created: 1324627310
categories:
- !binary |-
  0J/RgNC+0LPRgNCw0LzQvNC40YDQvtCy0LDQvdC40LU=
---
Да-да, я знаю, об этом холиварили уже, как говорится, 100500 раз. И всё же я изложу свою позицию, и обосную её. Речь пойдёт об открывающей фигурной скобке.

Я не считаю этот вопрос сверх-принципиальным и гипер-важным, любой программист может писать и так, и эдак. Однако я убеждён, что в языках программирования, где фигурные скобки ограничивают тело констукции, <strong>открывающая скобка не должна переноситься на следующую строку</strong>. И вот почему.

Рассмотрим два примера:
<cpp>
if ( predicat )
{
    some_action;
}
</cpp>и<cpp>
if ( predicat ) {
    some_action;
}
</cpp>
В чём тут разница? Сразу скажу: экономия лишней строки во втором примере, конечно же, не играет никакой роли.

А ведь разница имеется, и достаточно важная. Главный довод защитников первого примера звучит так: <em>"Открывающая и закрывающая скобки симметричны друг по отношению к другу, и мы сразу видим их соответствие, поскольку одна расположена над другой"</em>. Когда-то я тоже придерживался этого довода, и всегда писал открывающую над закрывающей. Однако потом...

Друзья, разве цель в том, чтобы соблюсти симметричность <em>скобок</em>? Нет, цель в том, чтобы соблюсти симметричность <em>всей конструкции</em>. Ведь конструкция - это не скобки, это описательная строка + скобки. То есть:
<cpp>
if ( predicat )   // Это описательная строка if-конструкции
{                 // Это начало тела if-конструкции
    some_action;  // Это тело if-конструкции
}                 // Это конец тела if-конструкции
</cpp>
Но мы знаем, что описательная строка неотделима от тела, ведь это две части единого целого. Поэтому смотрим на этот пример ещё раз:
<cpp>
if ( predicat )   // Это начало if-конструкции?
{                 // Или это?
    some_action;   
}                 // Это конец if-конструкции
</cpp>
Понимаете мою мысль? Симметричными должны быть начало и конец <em>всей конструкции</em>, а не начало и конец её <em>тела</em>. Поэтому в примере номер два мы избавляемся от этой неоднозначности:
<cpp>
if ( predicat ) { // Это начало if-конструкции 
    some_action;   
}                 // Это конец if-конструкции
</cpp>
Здесь закрывающая скобка (обозначающая конец всей конструкции) симметрична с буквой <strong>i</strong> (обозначающей начало всей конструкции).

То же справедливо и для всех остальных конструкций языка (for, class, enum и т.д). 
