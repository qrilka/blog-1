---
layout: post
title: 'Линус Торвальс против C++: мой ответ'
category: articles
tags: [C++]
comments: true
share: true
---

В сентябре 2007 года Линус Торвальдс, создатель ядра операционной системы Linux, в почтовой рассылке разработчиков ядра обсуждал вопрос о языке, на котором стоит написать систему контроля версий Git (кстати, получилась весьма хорошая система). В обсуждении всплыл С++. И Линус высказался о нём следующей тирадой: 

> C++ - ужасный язык. Еще более ужасным его делает тот факт, что его использует множество неквалифицированных программистов, причем там, где с его помощью проще всего создать полнейшее фуфло. Честно говоря, даже если язык C использовался бы только для того, чтобы держать в отдалении программистов на C++, это само по себе послужило бы достаточным оправданием использования этого языка.Другими словами, выбор языка C является единственным разумным выбором. Я пришел к выводу, что программист, который предпочел бы при написании какой-либо программы использовать язык C++, а не C, скорее всего, принадлежит к такому типу программистов, которых я бы предпочел выгнать вон, так, чтобы они не смогли прийти и испортить проект, которым я занимаюсь. C++ является причиной плохих проектных решений. Вы неизбежно начинаете использовать «изящные» возможности таких библиотек языка, как STL, Boost и другую подобную ерунду, которая может «помочь» вам программировать, однако добиваетесь этим только:
- бесконечного геморроя, когда они не работают (и каждый, кто скажет мне, что STL и, в особенности, Boost, стабильны и переносимы, просто несет полный бред, и это даже не смешно).
- создания неэффективных, оторванных от жизни программных моделей; в результате через пару лет вы замечаете, что некоторые абстракции не слишком эффективны, однако весь ваш код уже находится в зависимости от всех этих изящных объектных моделей, и вы не можете исправить его, не переписав при этом всё приложение.
Другими словами, единственный способ использовать хороший, эффективный, системный и переносимый C++ заключается в том, чтобы ограничить себя теми возможностями, которые в принципе доступны в языке C. Кроме того, использование языка C означает, что никто не испортит ваш проект, и вы сможете найти кучу программистов, которые действительно разбираются в низкоуровневых проблемах и не испортят все дело какой-нибудь идиотской объектно-моделируемой чепухой.</p>

Желающие ознакомиться с оригиналом - пожалуйте [сюда](http://article.gmane.org/gmane.comp.version-control.git/57918).

Ну что ж, сказано сильно. Сразу видно, Линус - человек прямой, что думает, то и говорит. Однако, при всём уважении к Торвальдсу (я очень уважаю его как профессионального разработчика и сам являюсь Linux-программистом), я позволю себе подвергнуть его слова критике.

Прежде всего, в словах Линуса видна явная предвзятость по отношению к С++ и к ООП. И это можно понять: Линус разработал ядро Linux (и продолжает разработку по сей день), используя чистый С. А С остаётся конкурентом С++, особенно в разговорах Unix-программистов. Что делать, исторические корни никуда не деть. Однако попробую отсеить эмоции Торвальдса и разобраться в сути его слов.

> C++ - ужасный язык. Еще более ужасным его делает тот факт, что его использует множество неквалифицированных программистов, причем там, где с его помощью проще всего создать полнейшее фуфло.

Да, это так, язык С++ используют многие неквалифицированные программисты. И это действительно приводило (приводит и будет приводить) к появлению ужасных программ. Однако можно ли этот факт ставить в укор самому языку С++? Может, виноваты те программисты, которые, взяв в руки профессиональный инструмент разработки без соответствующей квалификации, наломали дров? В результате неумелого использования токарного станка 16К20 (кстати, великолепный станок) многие токари стали инвалидами без пальцев и глаз, или же вообще погибли (а иногда были причиной травмирования или гибели окружающих). Имеем ли мы право ставить это в укор самому токарному станку или его конструкторам? Вряд ли. Если дилетант берется за использование С++, не имея достаточного уровня подготовки и понимания возможностей языка - он действительно сделает фуфло. Однако то же самое можно сказать и о языке С, на котором написаны как шедевры (и не мало), так и уроды (их тоже хватает). В чем Линус бесспорно прав, так это в том, что программисту-дилетанду с помощью С++ **проще** "создать полнейшее фуфло", чем с помощью С. Однако о чем это свидетельствует? О том, что С++ хуже С? Думаю, это свидетельствует о том, что С++ - более мощный язык, чем С. Представим себе двух водителей-дилетантов, первого из которых посадили за руль "Газели", а второго - за руль "Камаза". И вот этих двоих выпустили на оживленные улицы города. Вопрос: который из них наделает больше бед? Скорее всего, второй. Ибо "Камаз" обладает гораздо большей мощью, и управление им требует особых навыков и большей ответственности. Но кто будет виной этих бед? Сам "Камаз"? Или, может, конструкторы "Камаза"? Нет, но сам водитель-дилетант. Поэтому накажут именно его.

> C++ является причиной плохих проектных решений.

При всём уважении, вынужден отметить, что Линус сказал полную чушь. Язык программирования по определению не может быть причиной плохих проектных решений. Потому что язык - это инструмент, с помощью которого **реализуют** проектные решения, и если они плохие (по вине проектировщика), то язык вряд ли поможет. Я и на С видел программы, являющиеся (с проектной точки зрения) отвратительными уродами. 

> Вы неизбежно начинаете использовать «изящные» возможности таких библиотек языка, как STL, Boost и другую подобную ерунду, которая может «помочь» вам программировать, однако добиваетесь этим только: 
- бесконечного геморроя, когда они не работают (и каждый, кто скажет мне, что STL и, в особенности, Boost, стабильны и переносимы, просто несет полный бред, и это даже не смешно).

Значит, Комитет по стандартизации С++ состоит из глупцов. Да и сам Страуструп, выходит, глупец. С помощью STL и Boost были созданы прекрасные программные продукты. Однако это стало возможным потому, что эти инструменты использовались **правильно**, а не абы как. Верно сказал Страуструп: *"Никакие языковые средства не могут помешать программисту писать плохие программы"*.

> - создания неэффективных, оторванных от жизни программных моделей; в результате через пару лет вы замечаете, что некоторые абстракции не слишком эффективны, однако весь ваш код уже находится в зависимости от всех этих изящных объектных моделей, и вы не можете исправить его, не переписав при этом всё приложение.

Опять субъективное утверждение. Если программист создал "неэффективную, оторванную от жизни программную модель", то причина тому - его проектные ошибки, а не язык С++. Разумеется, если программист заложил в код жесткую зависимость от "изящных объектных моделей", спроектированных в основе своей некорректно (например, без обеспечения простоты сопровождения и расширения функциональности), тогда конечно, исправить это можно будет только "переписав все приложение". Неужели в этом виноват сам С++? Не думаю...

> Кроме того, использование языка C означает, что никто не испортит ваш проект...

Неужели? Вот так новость. Я-то думал, что испортить проект на С очень просто... Как и вообще любой проект, написанный на каком угодно языке. Это всё равно что сказать: "Вот эти кирпичи действительно гарантируют, что стена, из них выложенная, никогда не получиться кривой". По-моему, за кривизну стены в первую очередь отвечают каменщики. Известно, что абсолютно подавляющее большинство провалившихся программных проектов потерпели крах вовсе не из-за используемого языка программирования, а из-за проектных ошибок.

> ... и вы сможете найти кучу программистов, которые действительно разбираются в низкоуровневых проблемах и не испортят все дело какой-нибудь идиотской объектно-моделируемой чепухой.</p>

Ну, здесь без комментариев. 

Итак, Линус Торвальдс - прекрасный программист, однако его отношение к С++ весьма субъективно, а зачастую и в высшей степени предвзято.

P.S.
Кстати, оказывается, что не я один ответил Линусу. Вот **<a href="http://warp.povusers.org/OpenLetters/ResponseToTorvalds.html">здесь</a>** вы можете прочитать (правда, на английском) ещё один ответ.
